generator client {
  provider = "prisma-client-js" // v7+ default
  // remove output line completely
}


datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model HeroImage {
  id        Int      @id @default(autoincrement())
  url       String
  createdAt DateTime @default(now())
}

model CompanyInfo {
  id          Int    @id @default(1)
  description String
}

model Service {
  id       Int    @id @default(autoincrement())
  name     String
  imageUrl String
}

model ContactMessage {
  id        Int      @id @default(autoincrement())
  name      String
  email     String
  phone     String
  subject   String
  message   String
  createdAt DateTime @default(now())
}

model Province {
  id        Int       @id @default(autoincrement())
  name      String    @unique
  districts District[]
  projects Project[]
}

model District {
  id          Int       @id @default(autoincrement())
  name        String    @unique
  province    Province  @relation(fields: [provinceId], references: [id])
  provinceId  Int
  projects    Project[]
}

model Project {
  id              Int      @id @default(autoincrement())
  name            String    
  client          String
  provinceId      Int
  districtId      Int
  startDate       DateTime
  completedDate   DateTime?
  status          String
  description     String
  image           String[]
  video           String?
  createdAt       DateTime @default(now())

  province Province @relation(fields: [provinceId], references: [id])
  district District @relation(fields: [districtId], references: [id])
}


model News {
  id           Int       @id @default(autoincrement())
  title        String
  slug         String    @unique
  description  String
  content      String?
  author       String?
  source       String?
  imageUrls    String[]                      // Multiple images stored as array
  isPublished  Boolean   @default(false)
  publishedAt  DateTime?
  views        Int       @default(0)
  likes        Int       @default(0)
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
}
